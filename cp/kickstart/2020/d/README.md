# Round D 2020 - Kick Start 2020

## A Record Breaker

给一个长度为$n$的数组，求大于前面所有数且大于接下来的第一个数的个数，暴力模拟即可，时间复杂度$O(n)$

## B Alien Piano

给一个长度为$n$的数组，求将其转码为$4$种相对大小过程中不满足的次数和。

算法：贪心，连续的四次上升或者下降将导致转码错误，使用两个计数器记录当前连续上升或下降的个数，超过$3$次则使答案$+1$，且清空计数器，时间复杂度$O(n)$

## C Beauty of tree

给一个$n$个点的树，从树的任意一个节点出发向上到根的路径中所有间隔$i$或$j$次的点点会被染色，求被染色的点的期望。

算法：容斥原理，$P(A \cup B) = P(A) + P(B) - P(AB)$，接着使用$\text{DFS}$后序遍历所有从根到某个点的路径，退出某点前记录`st`数组对应的值$+1$，且对应的间隔$i$或$j$次的点对应的`st`数组的值加上这个点的`st`数组的值，时间复杂度$O(n)$

## D Locked Doors

给一个长度为$n - 1$的数组，表示从$i$到$i + 1$所需要的代价$w$，执行$m$次查询，每次查询从$s$点出发，每次往代价小的一侧转移，转移$k$次之后的位置。

算法：二分+$\text{RMQ}$，当$k = 1$时，最终的位置就在$s$，否则，每次二分查询从起点左移$mid$步是否合法，最小值为$\max(0, k - 2 - (n - s))$，最大值为$\min(s - 1, k - 2)$，从而获取从$s$点移动$k - 1$次中左移的最大次数，最后再判断一下最后一次移动需要往左还是往右即可。二分的判断函数为左移过程中的最大代价$w_l$小于右移过程中的最大代价$w_r$，而区间最小值可以用$\text{ST}$表完成，时间复杂度$O(n \log n + m \log n)$
